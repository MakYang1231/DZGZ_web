import{_ as B,a as R}from"./VKi0ejvj.js";import{d as M,N,x as V,a as S,M as F,k as P,z as n,A as l,u as s,D as e,B as c,F as i,E as r,C as d,O as f,P as h,Z as L,H as u,V as q,$ as A,a0 as E,a1 as H,Y}from"./CB_E7rYp.js";import{u as O,a as U}from"./qtUg9gMc.js";const W={key:0,class:"infoMain container mt-2 d-flex flex-wrap justify-content-center"},Z={class:"itemInfoDiv"},G={class:"tags d-flex"},J={class:"title"},K={class:"fw-normal fs-5"},Q={class:"itemSwiperDiv"},X=["src"],ee={class:"itemInfoDiv"},se={class:"point fs-5 d-flex justify-content-end align-items-baseline"},te=e("div",{class:"text pe-3"},[e("strong",null,"菓子點")],-1),oe={class:"number fs-1"},ne={key:1,class:"infoMain container mt-4 d-flex justify-content-left"},ie={class:"itemSwiperDiv",style:{width:"510px"}},ae=["src"],le=["src"],re={class:"itemInfoDiv"},ce={class:"tags d-flex"},de={class:"title"},ue={class:"fw-normal fs-5"},_e={class:"point fs-5 d-flex justify-content-start"},fe=e("div",{class:"text pe-3"},[e("strong",null,"菓子點")],-1),pe={class:"number fs-1"},me=e("hr",null,null,-1),he={class:"detailImageDiv container d-flex flex-wrap justify-content-center mt-5"},we={class:"child_image"},ve=["src","data-src"],Ce=M({__name:"[id]",async setup(ge){let p,$;const k=O().currentRoute.value,j=k.query.category,z=k.query.itemCode,{data:I,refresh:ye}=([p,$]=N(()=>U(`https://isnmk.com/api/${j}`,"$FRYjk9Ro18")),p=await p,$(),p),a=V(I.value).find(t=>t.item_code===z),w=t=>/^https.*\.mp4$/i.test(t);let _=S();const C=S(!1),v=()=>{typeof window<"u"&&(C.value=window.innerWidth<767)};F(()=>{if(typeof window<"u"&&(window.addEventListener("resize",v),v()),_.value=a.product_picture_url_list,a.product_video_url&&a.product_video_url!==""){const t={url:a.product_video_url};_.value.unshift(t)}else console.log("[Error] can not find product_video_url!")}),P(()=>{typeof window<"u"&&window.removeEventListener("resize",v)});const D=S(null),T=t=>{D.value=t};return(t,xe)=>{const m=B,g=R,y=Y,b=L;return n(),l(f,null,[s(C)?(n(),l("div",W,[e("div",Z,[e("div",G,[c(m,{name:"tags-fill",class:"icon me-2"}),i(),e("strong",null,r(s(a).main_category),1),i(),c(m,{name:"chevron-double-right",class:"icon mx-2"}),i(),e("strong",null,r(s(a).sub_category),1)]),i(),e("div",J,[e("h2",K,r(s(a).item_name),1)])]),i(),e("div",Q,[c(b,{class:"swiper_thumbs_main",modules:["SwiperPagination"in t?t.SwiperPagination:s(q),"SwiperEffectCoverflow"in t?t.SwiperEffectCoverflow:s(A)],"slides-per-view":1,loop:!1,effect:"coverflow","coverflow-effect":{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:{clickable:!0}},{default:d(()=>[(n(!0),l(f,null,h(s(_),(o,x)=>(n(),u(y,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:d(()=>[w(o.url)?(n(),l("video",{key:0,src:`${o.url}`,controls:"",loop:"",muted:"",autoplay:""},null,8,X)):(n(),u(g,{key:1,class:"lazyload",itemprop:"image",src:`${o.url}`,"data-src":`${o.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules"])]),i(),e("div",ee,[e("div",se,[te,i(),e("div",oe,[e("strong",null,r(s(a).point),1)])])])])):(n(),l("div",ne,[e("div",ie,[c(b,{class:"swiper_thumbs_main",modules:["SwiperThumbs"in t?t.SwiperThumbs:s(E),"SwiperEffectCreative"in t?t.SwiperEffectCreative:s(H)],thumbs:{swiper:s(D)},"slides-per-view":1,loop:!1,effect:"creative","creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}},{default:d(()=>[(n(!0),l(f,null,h(s(_),(o,x)=>(n(),u(y,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:d(()=>[w(o.url)?(n(),l("video",{key:0,src:`${o.url}`,controls:"",loop:"",muted:"",autoplay:""},null,8,ae)):(n(),u(g,{key:1,class:"lazyload",itemprop:"image",src:`${o.url}`,"data-src":`${o.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules","thumbs"]),i(),c(b,{class:"swiper_thumbs_bottom",autoHeight:!0,modules:["SwiperThumbs"in t?t.SwiperThumbs:s(E)],onSwiper:T,"watch-slides-progress":!0,"slides-per-view":4,"space-between":40,"grab-cursor":!0,loop:!1},{default:d(()=>[(n(!0),l(f,null,h(s(_),(o,x)=>(n(),u(y,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:d(()=>[w(o.url)?(n(),l("video",{key:0,src:`${o.url}`,muted:""},null,8,le)):(n(),u(g,{key:1,class:"lazyload",itemprop:"image",src:`${o.url}`,"data-src":`${o.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules"])]),i(),e("div",re,[e("div",ce,[c(m,{name:"tags-fill",class:"icon me-4"}),i(),e("strong",null,r(s(a).main_category),1),i(),c(m,{name:"chevron-double-right",class:"icon mx-2"}),i(),e("strong",null,r(s(a).sub_category),1)]),i(),e("div",de,[e("h2",ue,r(s(a).item_name),1)]),i(),e("div",_e,[fe,i(),e("div",pe,[e("strong",null,r(s(a).point),1)])]),i(),me])])),i(),e("div",he,[(n(!0),l(f,null,h(s(a).product_detail_picture_url_list,(o,x)=>(n(),l("div",we,[e("img",{src:`${o.url}`,"data-src":`${o.url}`},null,8,ve)]))),256))])],64)}}});export{Ce as default};
