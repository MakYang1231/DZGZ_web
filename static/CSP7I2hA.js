import{d as P,a as x,M as S,p as w,A as L,c as y,a4 as N,f as k,a5 as O}from"./Dpei8Fnb.js";import{u as q,h as R,o as j,r as U,d as E,j as I,e as V,f as D,n as F,g as H,b as A,i as M,w as z,k as $}from"./Ct6YtRlB.js";async function T(t,a=q()){const{path:o,matched:e}=a.resolve(t);if(!e.length||(a._routePreloaded||(a._routePreloaded=new Set),a._routePreloaded.has(o)))return;const n=a._preloadPromises=a._preloadPromises||[];if(n.length>4)return Promise.all(n).then(()=>T(t,a));a._routePreloaded.add(o);const r=e.map(u=>{var l;return(l=u.components)==null?void 0:l.default}).filter(u=>typeof u=="function");for(const u of r){const l=Promise.resolve(u()).catch(()=>{}).finally(()=>n.splice(n.indexOf(l)));n.push(l)}await Promise.all(n)}const Q=Symbol.for("nuxt:client-only"),Z=P({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:a,attrs:o}){const e=x(!1);return S(()=>{e.value=!0}),w(Q,!0),n=>{var c;if(e.value)return(c=a.default)==null?void 0:c.call(a);const r=a.fallback||a.placeholder;if(r)return r();const u=n.fallback||n.placeholder||"",l=n.fallbackTag||n.placeholderTag||"span";return L(l,o,u)}}}),W=(...t)=>t.find(a=>a!==void 0);function G(t){const a=t.componentName||"NuxtLink";function o(e,n){if(!e||t.trailingSlash!=="append"&&t.trailingSlash!=="remove")return e;if(typeof e=="string")return C(e,t.trailingSlash);const r="path"in e&&e.path!==void 0?e.path:n(e).path;return{...e,name:void 0,path:C(r,t.trailingSlash)}}return P({name:a,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(e,{slots:n}){const r=q(),u=H(),l=y(()=>{const i=e.to||e.href||"";return o(i,r.resolve)}),c=y(()=>typeof l.value=="string"&&R(l.value,{acceptRelative:!0})),g=y(()=>e.target&&e.target!=="_self"),p=y(()=>e.external||g.value?!0:typeof l.value=="object"?!1:l.value===""||c.value),_=x(!1),v=x(null),B=i=>{var d;v.value=e.custom?(d=i==null?void 0:i.$el)==null?void 0:d.nextElementSibling:i==null?void 0:i.$el};if(e.prefetch!==!1&&e.noPrefetch!==!0&&e.target!=="_blank"&&!K()){const d=A();let h,s=null;S(()=>{const b=J();j(()=>{h=U(()=>{var f;(f=v==null?void 0:v.value)!=null&&f.tagName&&(s=b.observe(v.value,async()=>{s==null||s(),s=null;const m=typeof l.value=="string"?l.value:r.resolve(l.value).fullPath;await Promise.all([d.hooks.callHook("link:prefetch",m).catch(()=>{}),!p.value&&T(l.value,r).catch(()=>{})]),_.value=!0}))})})}),N(()=>{h&&E(h),s==null||s(),s=null})}return()=>{var s,b;if(!p.value){const f={ref:B,to:l.value,activeClass:e.activeClass||t.activeClass,exactActiveClass:e.exactActiveClass||t.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(_.value&&(f.class=e.prefetchedClass||t.prefetchedClass),f.rel=e.rel||void 0),k(O("RouterLink"),f,n.default)}const i=typeof l.value=="object"?((s=r.resolve(l.value))==null?void 0:s.href)??null:l.value&&!e.external&&!c.value?o(I(u.app.baseURL,l.value),r.resolve):l.value||null,d=e.target||null,h=W(e.noRel?"":e.rel,t.externalRelAttribute,c.value||g.value?"noopener noreferrer":"")||null;if(e.custom){if(!n.default)return null;const f=()=>M(i,{replace:e.replace,external:e.external});return n.default({href:i,navigate:f,get route(){if(!i)return;const m=V(i);return{path:m.pathname,fullPath:m.pathname,get query(){return D(m.search)},hash:m.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:i}},rel:h,target:d,isExternal:p.value,isActive:!1,isExactActive:!1})}return k("a",{ref:v,href:i,rel:h,target:d},(b=n.default)==null?void 0:b.call(n))}}})}const ee=G(F);function C(t,a){const o=a==="append"?z:$;return R(t)&&!t.startsWith("http")?t:o(t,!0)}function J(){const t=A();if(t._observer)return t._observer;let a=null;const o=new Map,e=(r,u)=>(a||(a=new IntersectionObserver(l=>{for(const c of l){const g=o.get(c.target);(c.isIntersecting||c.intersectionRatio>0)&&g&&g()}})),o.set(r,u),a.observe(r),()=>{o.delete(r),a.unobserve(r),o.size===0&&(a.disconnect(),a=null)});return t._observer={observe:e}}function K(){const t=navigator.connection;return!!(t&&(t.saveData||/2g/.test(t.effectiveType)))}export{ee as _,Z as a};
