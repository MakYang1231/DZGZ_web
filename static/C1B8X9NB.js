import{_ as j,a as F,b as M,c as O}from"./BiV3hPQF.js";import{d as P,u as A,r as g,w as L,e as U,f as Z,o,c as n,b as t,a as s,F as f,g as v,h as u,i,j as d,k as z,v as E,l as q,m as G,t as r,n as C,p as H}from"./DZD6M64H.js";const J={class:"page_main container d-flex justify-content-between"},K={class:"div_page_left col-md-2 bg-light"},Q=t("div",{class:"menu_title"},[t("div",null,"分類找商品")],-1),W={class:"menu_item"},X={class:"me-3"},Y={class:"text d-flex align-items-center"},ee={key:0},te={class:"div_page_right col-md-9 col-12 bg-light"},se={class:"page_header_breadcrumb d-flex align-items-center"},oe={class:"page_subItem d-flex align-items-center justify-content-between"},ne={class:"search-wrapper"},ae=t("label",null,"Search title:",-1),le={class:"page_itemBody"},ce={class:"d-flex align-items-baseline justify-content-between flex-wrap"},ie={class:""},re={class:"title"},_e={key:0},ue={class:"point"},de=t("button",{class:"nutton d-none"},"點數兌換",-1),ve=P({__name:"index",async setup(pe){let p,b;const x=A().currentRoute.value.params.category,{$MenuItemsData:N}=H(),y=N;console.log(y);let a=g(),k=g([]),_=g();const{data:D,refresh:he}=([p,b]=L(()=>G(`https://isnmk.com/api/${x}`,"$lUdZf5FrkZ")),p=await p,b(),p);a=U(D.value);const I=(l,c)=>(l.point===""&&(l.point="99999"),c.point===""&&(c.point="99999"),l.point-c.point);for(let l in a)k.value.push(a[l]);a=k,console.log(a);const B=()=>{a.value.sort(I),console.log(a.value)};Z(()=>a.value.filter(l=>(console.log(_.value),l.name.includes(_.value))));let R=g([]);return(l,c)=>{const m=j,w=M,S=O,T=F;return o(),n("div",J,[t("div",K,[Q,s(),t("div",W,[t("ul",X,[(o(!0),n(f,null,v(u(y),(e,h)=>(o(),n("li",{key:h,class:"mx-3"},[i(m,{class:"d-flex align-items-center position-relative pb-2",to:`/${e.category_url}`},{default:d(()=>[t("div",Y,r(e.category_name),1)]),_:2},1032,["to"]),s(),e.sub_categories?(o(),n("div",ee,[(o(!0),n(f,null,v(e.sub_categories,($,V)=>(o(),n("div",{key:V,class:"page_Cat_Sub"},[i(m,{to:`/${e.category_url}/${$.sub_url}`},{default:d(()=>[s(r($.sub_name),1)]),_:2},1032,["to"])]))),128))])):C("",!0)]))),128))])])]),s(),t("div",te,[t("div",se,[i(w,{name:"house-door-fill",class:"icon"}),s(),i(w,{name:"chevron-double-right",class:"icon mx-2"}),s(),i(m,{to:{path:`/${u(x)}`,hash:""}},{default:d(()=>[s(r(u(x)),1)]),_:1},8,["to"])]),s(),t("div",oe,[(o(!0),n(f,null,v(u(R).subItem,(e,h)=>(o(),n("div",{class:"subItem_text",key:h},r(e.sTitle),1))),128))]),s(),t("button",{onClick:c[0]||(c[0]=e=>{B()})},"SORT POINT"),s(),t("div",ne,[z(t("input",{type:"text","onUpdate:modelValue":c[1]||(c[1]=e=>q(_)?_.value=e:_=e),placeholder:"Search title.."},null,512),[[E,u(_)]]),s(),ae]),s(),t("div",le,[i(T,null,{default:d(()=>[t("ul",ce,[(o(!0),n(f,null,v(u(a),(e,h)=>(o(),n("li",ie,[i(m,{class:"disabled-link",to:{path:"/",hash:""}},{default:d(()=>[i(S,{class:"lazyload",itemprop:"image",src:`${e.picture_url}`,"data-src":`${e.picture_url}`},null,8,["src","data-src"])]),_:2},1024),s(),t("div",re,[s(r(e.item_name)+" ",1),e.spec!==""&&e.spec!=="無"?(o(),n("span",_e," : "+r(e.spec),1)):C("",!0)]),s(),t("div",ue,r(e.point)+` 菓子點
                            `,1),s(),de]))),256))])]),_:1})])])])}}});export{ve as default};
