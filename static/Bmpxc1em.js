import{_ as F}from"./yU7ezJDP.js";import{_ as V}from"./BzSgG0kL.js";import{d as P,M as q,x as A,a as v,L as U,k as W,y as i,F as d,G as u,u as s,z as l,B as e,A as r,D as o,C as c,O as h,N as w,R as Y,Z as G,_ as j,$ as H,a0 as z,U as O,W as X,X as Z,Y as J}from"./CTCtpd9K.js";import{_ as K}from"./BNPxwADM.js";import{u as Q,a as ee,_ as te}from"./B7Cb2kSW.js";const g=f=>(X("data-v-a992bb3b"),f=f(),Z(),f),se={key:0,class:"infoMain container mt-2 d-flex flex-wrap justify-content-center"},oe={class:"itemInfoDiv"},ne={class:"tags d-flex"},ie={class:"title"},ae={class:"fw-normal fs-5"},le={class:"itemSwiperDiv"},re=["src"],ce={class:"itemInfoDiv"},de={class:"point fs-5 d-flex justify-content-end align-items-baseline"},ue=g(()=>e("div",{class:"text pe-3"},[e("strong",null,"菓子點")],-1)),_e={class:"number fs-1"},pe={key:1,class:"infoMain container mt-4 d-flex justify-content-left"},fe={class:"itemSwiperDiv",style:{width:"510px"}},me=["src"],ve={key:0,class:"videoDiv position-relative"},he=["src","poster"],we=g(()=>e("div",{class:"play-thumbs"},[e("div",{class:"youtube-play-button"},[e("div",{class:"play-icon"})])],-1)),ge={class:"itemInfoDiv"},be={class:"tags d-flex"},ye={class:"title"},Se={class:"fw-normal fs-5"},xe={class:"point fs-5 d-flex justify-content-start"},$e=g(()=>e("div",{class:"text pe-3"},[e("strong",null,"菓子點")],-1)),ke={class:"number fs-1"},De=g(()=>e("hr",null,null,-1)),Ce={class:"detailImageDiv container d-flex flex-wrap justify-content-center mt-5"},Ee={class:"child_image"},Ie=["src","data-src"],Ne=P({__name:"[id]",async setup(f){let m,D;const C=Q().currentRoute.value,R=C.query.category,T=C.query.itemCode,{data:B,refresh:je}=([m,D]=q(()=>ee(`https://isnmk.com/api/${R}`,"$FRYjk9Ro18")),m=await m,D(),m),a=A(B.value).find(t=>t.item_code===T),b=t=>/^https.*\.mp4$/i.test(t);let _=v();const E=v(""),I=v(!1),y=()=>{typeof window<"u"&&(I.value=window.innerWidth<767)};U(()=>{if(typeof window<"u"&&(window.addEventListener("resize",y),y()),_.value=a.product_picture_url_list,E.value=_.value[0].url,a.product_video_url&&a.product_video_url!==""){const t={url:a.product_video_url};_.value.unshift(t)}else console.log("[Error] can not find product_video_url!")}),W(()=>{typeof window<"u"&&window.removeEventListener("resize",y)});const N=v(null),L=t=>{N.value=t};return(t,Re)=>{const p=F,S=V,x=J,$=O,M=K;return i(),d(M,{name:"default"},{default:u(()=>[s(I)?(i(),l("div",se,[e("div",oe,[e("div",ne,[r(p,{name:"tags-fill",class:"icon me-2"}),o(),e("strong",null,c(s(a).main_category),1),o(),r(p,{name:"chevron-double-right",class:"icon mx-2"}),o(),e("strong",null,c(s(a).sub_category),1)]),o(),e("div",ie,[e("h2",ae,c(s(a).item_name),1)])]),o(),e("div",le,[r($,{class:"swiper_thumbs_main",modules:["SwiperPagination"in t?t.SwiperPagination:s(Y),"SwiperEffectCoverflow"in t?t.SwiperEffectCoverflow:s(G)],"slides-per-view":1,loop:!1,effect:"coverflow","coverflow-effect":{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:{clickable:!0}},{default:u(()=>[(i(!0),l(h,null,w(s(_),(n,k)=>(i(),d(x,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:u(()=>[b(n.url)?(i(),l("video",{key:0,src:`${n.url}`,controls:"",loop:"",muted:"",autoplay:""},null,8,re)):(i(),d(S,{key:1,class:"lazyload",itemprop:"image",src:`${n.url}`,"data-src":`${n.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules"])]),o(),e("div",ce,[e("div",de,[ue,o(),e("div",_e,[e("strong",null,c(s(a).point),1)])])])])):(i(),l("div",pe,[e("div",fe,[r($,{class:"swiper_thumbs_main",modules:["SwiperThumbs"in t?t.SwiperThumbs:s(j),"SwiperEffectCreative"in t?t.SwiperEffectCreative:s(H),"SwiperNavigation"in t?t.SwiperNavigation:s(z)],thumbs:{swiper:s(N)},"slides-per-view":1,loop:!1,effect:"creative","creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}},navigation:{enabled:!0,prevEl:".prev_button",nextEl:".next_button"}},{default:u(()=>[(i(!0),l(h,null,w(s(_),(n,k)=>(i(),d(x,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:u(()=>[b(n.url)?(i(),l("video",{key:0,src:`${n.url}`,controls:"",loop:"",muted:"",autoplay:""},null,8,me)):(i(),d(S,{key:1,class:"lazyload",itemprop:"image",src:`${n.url}`,"data-src":`${n.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules","thumbs"]),o(),r($,{class:"swiper_thumbs_bottom",autoHeight:!0,modules:["SwiperThumbs"in t?t.SwiperThumbs:s(j),"SwiperNavigation"in t?t.SwiperNavigation:s(z)],onSwiper:L,"watch-slides-progress":!0,"slides-per-view":4,"space-between":40,loop:!1},{default:u(()=>[(i(!0),l(h,null,w(s(_),(n,k)=>(i(),d(x,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:u(()=>[b(n.url)?(i(),l("div",ve,[e("video",{src:`${n.url}`,muted:"",poster:`${s(E)}`},null,8,he),o(),we])):(i(),d(S,{key:1,class:"lazyload",itemprop:"image",src:`${n.url}`,"data-src":`${n.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules"]),o(),r(p,{name:"arrow-left-circle-fill",class:"icon prev_button"}),o(),r(p,{name:"arrow-right-circle-fill",class:"icon next_button"})]),o(),e("div",ge,[e("div",be,[r(p,{name:"tags-fill",class:"icon me-4"}),o(),e("strong",null,c(s(a).main_category),1),o(),r(p,{name:"chevron-double-right",class:"icon mx-2"}),o(),e("strong",null,c(s(a).sub_category),1)]),o(),e("div",ye,[e("h2",Se,c(s(a).item_name),1)]),o(),e("div",xe,[$e,o(),e("div",ke,[e("strong",null,c(s(a).point),1)])]),o(),De])])),o(),e("div",Ce,[(i(!0),l(h,null,w(s(a).product_detail_picture_url_list,(n,k)=>(i(),l("div",Ee,[e("img",{src:`${n.url}`,"data-src":`${n.url}`},null,8,Ie)]))),256))])]),_:1})}}}),Ve=te(Ne,[["__scopeId","data-v-a992bb3b"]]);export{Ve as default};
