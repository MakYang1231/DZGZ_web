import{_ as N}from"./DyxZtfx5.js";import{_ as V}from"./BzXwxfr6.js";import{d as F,N as P,x as L,a as v,M as q,k as A,z as n,A as l,u as s,D as e,B as r,F as t,E as c,C as _,O as f,P as w,Z as H,H as p,V as W,$ as Y,a0 as z,a1 as O,W as U,X,Y as Z}from"./CB_E7rYp.js";import{u as G,a as J,_ as K}from"./5Cwvw6DZ.js";const g=m=>(U("data-v-10e6909e"),m=m(),X(),m),Q={key:0,class:"infoMain container mt-2 d-flex flex-wrap justify-content-center"},ee={class:"itemInfoDiv"},se={class:"tags d-flex"},te={class:"title"},oe={class:"fw-normal fs-5"},ie={class:"itemSwiperDiv"},ne=["src"],ae={class:"itemInfoDiv"},le={class:"point fs-5 d-flex justify-content-end align-items-baseline"},re=g(()=>e("div",{class:"text pe-3"},[e("strong",null,"菓子點")],-1)),ce={class:"number fs-1"},de={key:1,class:"infoMain container mt-4 d-flex justify-content-left"},ue={class:"itemSwiperDiv",style:{width:"510px"}},_e=["src"],pe={key:0,class:"videoDiv position-relative"},fe=["src","poster"],me=g(()=>e("div",{class:"play-thumbs"},[e("div",{class:"youtube-play-button"},[e("div",{class:"play-icon"})])],-1)),he={class:"itemInfoDiv"},ve={class:"tags d-flex"},we={class:"title"},ge={class:"fw-normal fs-5"},ye={class:"point fs-5 d-flex justify-content-start"},be=g(()=>e("div",{class:"text pe-3"},[e("strong",null,"菓子點")],-1)),Se={class:"number fs-1"},xe=g(()=>e("hr",null,null,-1)),$e={class:"detailImageDiv container d-flex flex-wrap justify-content-center mt-5"},ke={class:"child_image"},De=["src","data-src"],Ce=F({__name:"[id]",async setup(m){let h,D;const C=G().currentRoute.value,T=C.query.category,B=C.query.itemCode,{data:R,refresh:Ie}=([h,D]=P(()=>J(`https://isnmk.com/api/${T}`,"$FRYjk9Ro18")),h=await h,D(),h),a=L(R.value).find(o=>o.item_code===B),y=o=>/^https.*\.mp4$/i.test(o);let d=v();const I=v(""),E=v(!1),b=()=>{typeof window<"u"&&(E.value=window.innerWidth<767)};q(()=>{if(typeof window<"u"&&(window.addEventListener("resize",b),b()),d.value=a.product_picture_url_list,I.value=d.value[0].url,a.product_video_url&&a.product_video_url!==""){const o={url:a.product_video_url};d.value.unshift(o)}else console.log("[Error] can not find product_video_url!")}),A(()=>{typeof window<"u"&&window.removeEventListener("resize",b)});const j=v(null),M=o=>{j.value=o};return(o,je)=>{const u=N,S=V,x=Z,$=H;return n(),l(f,null,[s(E)?(n(),l("div",Q,[e("div",ee,[e("div",se,[r(u,{name:"tags-fill",class:"icon me-2"}),t(),e("strong",null,c(s(a).main_category),1),t(),r(u,{name:"chevron-double-right",class:"icon mx-2"}),t(),e("strong",null,c(s(a).sub_category),1)]),t(),e("div",te,[e("h2",oe,c(s(a).item_name),1)])]),t(),e("div",ie,[r($,{class:"swiper_thumbs_main",modules:["SwiperPagination"in o?o.SwiperPagination:s(W),"SwiperEffectCoverflow"in o?o.SwiperEffectCoverflow:s(Y)],"slides-per-view":1,loop:!1,effect:"coverflow","coverflow-effect":{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:{clickable:!0}},{default:_(()=>[(n(!0),l(f,null,w(s(d),(i,k)=>(n(),p(x,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:_(()=>[y(i.url)?(n(),l("video",{key:0,src:`${i.url}`,controls:"",loop:"",muted:"",autoplay:""},null,8,ne)):(n(),p(S,{key:1,class:"lazyload",itemprop:"image",src:`${i.url}`,"data-src":`${i.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules"])]),t(),e("div",ae,[e("div",le,[re,t(),e("div",ce,[e("strong",null,c(s(a).point),1)])])])])):(n(),l("div",de,[e("div",ue,[r($,{class:"swiper_thumbs_main",modules:["SwiperThumbs"in o?o.SwiperThumbs:s(z),"SwiperEffectCreative"in o?o.SwiperEffectCreative:s(O)],thumbs:{swiper:s(j)},"slides-per-view":1,loop:!1,effect:"creative","creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}},{default:_(()=>[(n(!0),l(f,null,w(s(d),(i,k)=>(n(),p(x,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:_(()=>[y(i.url)?(n(),l("video",{key:0,src:`${i.url}`,controls:"",loop:"",muted:"",autoplay:""},null,8,_e)):(n(),p(S,{key:1,class:"lazyload",itemprop:"image",src:`${i.url}`,"data-src":`${i.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules","thumbs"]),t(),r($,{class:"swiper_thumbs_bottom",autoHeight:!0,modules:["SwiperThumbs"in o?o.SwiperThumbs:s(z)],onSwiper:M,"watch-slides-progress":!0,"slides-per-view":4,"space-between":40,"grab-cursor":!0,loop:!1},{default:_(()=>[r(u,{name:"arrow-left-circle-fill",class:"icon prev_button"}),t(),(n(!0),l(f,null,w(s(d),(i,k)=>(n(),p(x,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:_(()=>[y(i.url)?(n(),l("div",pe,[e("video",{src:`${i.url}`,muted:"",poster:`${s(I)}`},null,8,fe),t(),me])):(n(),p(S,{key:1,class:"lazyload",itemprop:"image",src:`${i.url}`,"data-src":`${i.url}`},null,8,["src","data-src"]))]),_:2},1024))),256)),t(),r(u,{name:"arrow-right-circle-fill",class:"icon prev_button"})]),_:1},8,["modules"])]),t(),e("div",he,[e("div",ve,[r(u,{name:"tags-fill",class:"icon me-4"}),t(),e("strong",null,c(s(a).main_category),1),t(),r(u,{name:"chevron-double-right",class:"icon mx-2"}),t(),e("strong",null,c(s(a).sub_category),1)]),t(),e("div",we,[e("h2",ge,c(s(a).item_name),1)]),t(),e("div",ye,[be,t(),e("div",Se,[e("strong",null,c(s(a).point),1)])]),t(),xe])])),t(),e("div",$e,[(n(!0),l(f,null,w(s(a).product_detail_picture_url_list,(i,k)=>(n(),l("div",ke,[e("img",{src:`${i.url}`,"data-src":`${i.url}`},null,8,De)]))),256))])],64)}}}),Me=K(Ce,[["__scopeId","data-v-10e6909e"]]);export{Me as default};
