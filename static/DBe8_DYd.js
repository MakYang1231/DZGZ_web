import{_ as R,a as M}from"./LqzRwbUh.js";import{d as N,N as V,x as F,a as h,M as P,k as L,z as i,A as l,u as s,D as e,B as c,F as o,E as r,C as u,O as f,P as v,Z as q,H as _,V as A,$ as H,a0 as j,a1 as Y,Y as O}from"./CB_E7rYp.js";import{u as U,a as W}from"./Bc1L1Hjb.js";const Z={key:0,class:"infoMain container mt-2 d-flex flex-wrap justify-content-center"},G={class:"itemInfoDiv"},J={class:"tags d-flex"},K={class:"title"},Q={class:"fw-normal fs-5"},X={class:"itemSwiperDiv"},ee=["src"],se={class:"itemInfoDiv"},te={class:"point fs-5 d-flex justify-content-end align-items-baseline"},oe=e("div",{class:"text pe-3"},[e("strong",null,"菓子點")],-1),ne={class:"number fs-1"},ie={key:1,class:"infoMain container mt-4 d-flex justify-content-left"},ae={class:"itemSwiperDiv",style:{width:"510px"}},le=["src"],re={key:0,class:"videoDiv position-relative"},ce=["src","poster"],de=e("div",{class:"play-thumbs"},[e("div",{class:"youtube-play-button"},[e("div",{class:"play-icon"})])],-1),ue={class:"itemInfoDiv"},_e={class:"tags d-flex"},fe={class:"title"},pe={class:"fw-normal fs-5"},me={class:"point fs-5 d-flex justify-content-start"},he=e("div",{class:"text pe-3"},[e("strong",null,"菓子點")],-1),ve={class:"number fs-1"},we=e("hr",null,null,-1),ge={class:"detailImageDiv container d-flex flex-wrap justify-content-center mt-5"},ye={class:"child_image"},be=["src","data-src"],je=N({__name:"[id]",async setup(xe){let p,$;const k=U().currentRoute.value,I=k.query.category,z=k.query.itemCode,{data:T,refresh:Se}=([p,$]=V(()=>W(`https://isnmk.com/api/${I}`,"$FRYjk9Ro18")),p=await p,$(),p),a=F(T.value).find(t=>t.item_code===z),w=t=>/^https.*\.mp4$/i.test(t);let d=h();const D=h(""),C=h(!1),g=()=>{typeof window<"u"&&(C.value=window.innerWidth<767)};P(()=>{if(typeof window<"u"&&(window.addEventListener("resize",g),g()),d.value=a.product_picture_url_list,D.value=d.value[0].url,a.product_video_url&&a.product_video_url!==""){const t={url:a.product_video_url};d.value.unshift(t)}else console.log("[Error] can not find product_video_url!")}),L(()=>{typeof window<"u"&&window.removeEventListener("resize",g)});const E=h(null),B=t=>{E.value=t};return(t,ke)=>{const m=R,y=M,b=O,x=q;return i(),l(f,null,[s(C)?(i(),l("div",Z,[e("div",G,[e("div",J,[c(m,{name:"tags-fill",class:"icon me-2"}),o(),e("strong",null,r(s(a).main_category),1),o(),c(m,{name:"chevron-double-right",class:"icon mx-2"}),o(),e("strong",null,r(s(a).sub_category),1)]),o(),e("div",K,[e("h2",Q,r(s(a).item_name),1)])]),o(),e("div",X,[c(x,{class:"swiper_thumbs_main",modules:["SwiperPagination"in t?t.SwiperPagination:s(A),"SwiperEffectCoverflow"in t?t.SwiperEffectCoverflow:s(H)],"slides-per-view":1,loop:!1,effect:"coverflow","coverflow-effect":{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:{clickable:!0}},{default:u(()=>[(i(!0),l(f,null,v(s(d),(n,S)=>(i(),_(b,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:u(()=>[w(n.url)?(i(),l("video",{key:0,src:`${n.url}`,controls:"",loop:"",muted:"",autoplay:""},null,8,ee)):(i(),_(y,{key:1,class:"lazyload",itemprop:"image",src:`${n.url}`,"data-src":`${n.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules"])]),o(),e("div",se,[e("div",te,[oe,o(),e("div",ne,[e("strong",null,r(s(a).point),1)])])])])):(i(),l("div",ie,[e("div",ae,[c(x,{class:"swiper_thumbs_main",modules:["SwiperThumbs"in t?t.SwiperThumbs:s(j),"SwiperEffectCreative"in t?t.SwiperEffectCreative:s(Y)],thumbs:{swiper:s(E)},"slides-per-view":1,loop:!1,effect:"creative","creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}},{default:u(()=>[(i(!0),l(f,null,v(s(d),(n,S)=>(i(),_(b,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:u(()=>[w(n.url)?(i(),l("video",{key:0,src:`${n.url}`,controls:"",loop:"",muted:"",autoplay:""},null,8,le)):(i(),_(y,{key:1,class:"lazyload",itemprop:"image",src:`${n.url}`,"data-src":`${n.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules","thumbs"]),o(),c(x,{class:"swiper_thumbs_bottom",autoHeight:!0,modules:["SwiperThumbs"in t?t.SwiperThumbs:s(j)],onSwiper:B,"watch-slides-progress":!0,"slides-per-view":4,"space-between":40,"grab-cursor":!0,loop:!1},{default:u(()=>[(i(!0),l(f,null,v(s(d),(n,S)=>(i(),_(b,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:u(()=>[w(n.url)?(i(),l("div",re,[e("video",{src:`${n.url}`,muted:"",poster:`${s(D)}`},null,8,ce),o(),de])):(i(),_(y,{key:1,class:"lazyload",itemprop:"image",src:`${n.url}`,"data-src":`${n.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules"])]),o(),e("div",ue,[e("div",_e,[c(m,{name:"tags-fill",class:"icon me-4"}),o(),e("strong",null,r(s(a).main_category),1),o(),c(m,{name:"chevron-double-right",class:"icon mx-2"}),o(),e("strong",null,r(s(a).sub_category),1)]),o(),e("div",fe,[e("h2",pe,r(s(a).item_name),1)]),o(),e("div",me,[he,o(),e("div",ve,[e("strong",null,r(s(a).point),1)])]),o(),we])])),o(),e("div",ge,[(i(!0),l(f,null,v(s(a).product_detail_picture_url_list,(n,S)=>(i(),l("div",ye,[e("img",{src:`${n.url}`,"data-src":`${n.url}`},null,8,be)]))),256))])],64)}}});export{je as default};
