import{_ as V}from"./CK1pkfGn.js";import{_ as F}from"./hTa5o9Ps.js";import{d as P,N as L,x as q,a as h,M as A,k as H,z as n,A as l,u as s,D as e,B as r,F as o,E as c,C as _,O as f,P as w,Z as W,H as p,V as Y,$ as O,a0 as N,a1 as U,a2 as z,W as X,X as Z,Y as G}from"./B-EAanoX.js";import{u as J,a as K,_ as Q}from"./RTpS-rPs.js";const g=m=>(X("data-v-c459710d"),m=m(),Z(),m),ee={key:0,class:"infoMain container mt-2 d-flex flex-wrap justify-content-center"},te={class:"itemInfoDiv"},se={class:"tags d-flex"},oe={class:"title"},ie={class:"fw-normal fs-5"},ne={class:"itemSwiperDiv"},ae=["src"],le={class:"itemInfoDiv"},re={class:"point fs-5 d-flex justify-content-end align-items-baseline"},ce=g(()=>e("div",{class:"text pe-3"},[e("strong",null,"菓子點")],-1)),de={class:"number fs-1"},ue={key:1,class:"infoMain container mt-4 d-flex justify-content-left"},_e={class:"itemSwiperDiv",style:{width:"510px"}},pe=["src"],fe={key:0,class:"videoDiv position-relative"},me=["src","poster"],ve=g(()=>e("div",{class:"play-thumbs"},[e("div",{class:"youtube-play-button"},[e("div",{class:"play-icon"})])],-1)),he={class:"itemInfoDiv"},we={class:"tags d-flex"},ge={class:"title"},ye={class:"fw-normal fs-5"},be={class:"point fs-5 d-flex justify-content-start"},Se=g(()=>e("div",{class:"text pe-3"},[e("strong",null,"菓子點")],-1)),xe={class:"number fs-1"},$e=g(()=>e("hr",null,null,-1)),ke={class:"detailImageDiv container d-flex flex-wrap justify-content-center mt-5"},De={class:"child_image"},Ee=["src","data-src"],Ce=P({__name:"[id]",async setup(m){let v,D;const E=J().currentRoute.value,T=E.query.category,B=E.query.itemCode,{data:R,refresh:Ie}=([v,D]=L(()=>K(`https://isnmk.com/api/${T}`,"$FRYjk9Ro18")),v=await v,D(),v),a=q(R.value).find(t=>t.item_code===B),y=t=>/^https.*\.mp4$/i.test(t);let d=h();const C=h(""),I=h(!1),b=()=>{typeof window<"u"&&(I.value=window.innerWidth<767)};A(()=>{if(typeof window<"u"&&(window.addEventListener("resize",b),b()),d.value=a.product_picture_url_list,C.value=d.value[0].url,a.product_video_url&&a.product_video_url!==""){const t={url:a.product_video_url};d.value.unshift(t)}else console.log("[Error] can not find product_video_url!")}),H(()=>{typeof window<"u"&&window.removeEventListener("resize",b)});const j=h(null),M=t=>{j.value=t};return(t,Ne)=>{const u=V,S=F,x=G,$=W;return n(),l(f,null,[s(I)?(n(),l("div",ee,[e("div",te,[e("div",se,[r(u,{name:"tags-fill",class:"icon me-2"}),o(),e("strong",null,c(s(a).main_category),1),o(),r(u,{name:"chevron-double-right",class:"icon mx-2"}),o(),e("strong",null,c(s(a).sub_category),1)]),o(),e("div",oe,[e("h2",ie,c(s(a).item_name),1)])]),o(),e("div",ne,[r($,{class:"swiper_thumbs_main",modules:["SwiperPagination"in t?t.SwiperPagination:s(Y),"SwiperEffectCoverflow"in t?t.SwiperEffectCoverflow:s(O)],"slides-per-view":1,loop:!1,effect:"coverflow","coverflow-effect":{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:{clickable:!0}},{default:_(()=>[(n(!0),l(f,null,w(s(d),(i,k)=>(n(),p(x,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:_(()=>[y(i.url)?(n(),l("video",{key:0,src:`${i.url}`,controls:"",loop:"",muted:"",autoplay:""},null,8,ae)):(n(),p(S,{key:1,class:"lazyload",itemprop:"image",src:`${i.url}`,"data-src":`${i.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules"])]),o(),e("div",le,[e("div",re,[ce,o(),e("div",de,[e("strong",null,c(s(a).point),1)])])])])):(n(),l("div",ue,[e("div",_e,[r($,{class:"swiper_thumbs_main",modules:["SwiperThumbs"in t?t.SwiperThumbs:s(N),"SwiperEffectCreative"in t?t.SwiperEffectCreative:s(U),"SwiperNavigation"in t?t.SwiperNavigation:s(z)],thumbs:{swiper:s(j)},"slides-per-view":1,loop:!1,effect:"creative","creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}},navigation:{enabled:!0,prevEl:".prev_button",nextEl:".next_button"}},{default:_(()=>[(n(!0),l(f,null,w(s(d),(i,k)=>(n(),p(x,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:_(()=>[y(i.url)?(n(),l("video",{key:0,src:`${i.url}`,controls:"",loop:"",muted:"",autoplay:""},null,8,pe)):(n(),p(S,{key:1,class:"lazyload",itemprop:"image",src:`${i.url}`,"data-src":`${i.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules","thumbs"]),o(),r($,{class:"swiper_thumbs_bottom",autoHeight:!0,modules:["SwiperThumbs"in t?t.SwiperThumbs:s(N),"SwiperNavigation"in t?t.SwiperNavigation:s(z)],onSwiper:M,"watch-slides-progress":!0,"slides-per-view":4,"space-between":40,loop:!1},{default:_(()=>[(n(!0),l(f,null,w(s(d),(i,k)=>(n(),p(x,{class:"d-flex align-items-baseline justify-content-between flex-wrap"},{default:_(()=>[y(i.url)?(n(),l("div",fe,[e("video",{src:`${i.url}`,muted:"",poster:`${s(C)}`},null,8,me),o(),ve])):(n(),p(S,{key:1,class:"lazyload",itemprop:"image",src:`${i.url}`,"data-src":`${i.url}`},null,8,["src","data-src"]))]),_:2},1024))),256))]),_:1},8,["modules"]),o(),r(u,{name:"arrow-left-circle-fill",class:"icon prev_button"}),o(),r(u,{name:"arrow-right-circle-fill",class:"icon next_button"})]),o(),e("div",he,[e("div",we,[r(u,{name:"tags-fill",class:"icon me-4"}),o(),e("strong",null,c(s(a).main_category),1),o(),r(u,{name:"chevron-double-right",class:"icon mx-2"}),o(),e("strong",null,c(s(a).sub_category),1)]),o(),e("div",ge,[e("h2",ye,c(s(a).item_name),1)]),o(),e("div",be,[Se,o(),e("div",xe,[e("strong",null,c(s(a).point),1)])]),o(),$e])])),o(),e("div",ke,[(n(!0),l(f,null,w(s(a).product_detail_picture_url_list,(i,k)=>(n(),l("div",De,[e("img",{src:`${i.url}`,"data-src":`${i.url}`},null,8,Ee)]))),256))])],64)}}}),Me=Q(Ce,[["__scopeId","data-v-c459710d"]]);export{Me as default};
